<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>æ—…æ¸¸æ™¯ç‚¹</title>
    <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
    <script type="application/javascript" src="js/topFoot.js"></script>
    <script src="js/jquery.cookie.js" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="../res/layui/css/layui.css">
    <link rel="stylesheet" type="text/css" href="../res/layui/css/layui.mobile.css">
    <link rel="stylesheet" type="text/css" href="css/topFoot.css">
    <link rel="stylesheet" type="text/css" href="css/attractions.css">
    <style type="text/css">
        body{background-color:  #f0f0f0}
        p{margin: 5px 0}

        .increment{
            width: 30px;
            height: 40px;
            line-height: 40px;
            font-size: 20pt;
            float: left;
        }
        .sum{
            height: 30px;
            width: 40px;
            text-align: center;
            line-height: 40px;
            float: left;
        }
        .selected{border:solid red 1px;}
        /**æ€»é‡‘é¢ç»“ç®—*/
        .bar-wrapper{
            width: 100%;
            margin-top: 20px;
            text-align: center;
            font-family: å¾®è½¯é›…é»‘;
            font-size: 9pt;
            float: left;    border: solid 1px #dddddd;
        }
        .bar-right{
            width: 300px;
            margin-top: 20px;
            margin-left: 900px;
        }
        .piece{
            width: 100px;
            height: 30px;
            float: left;
        }
        .totalMoney{
            width: 100px;
            height: 30px;
            float: left;
        }
        .calBtn{
            width: 100px;
            height: 30px;
            float: left;
            font-size: 16pt;
        }
        .btn_sty{
            /**æ‰‹æŒ‡å…‰æ ‡*/
            background: #f40;
            cursor: pointer;
        }
        /* å¤é€‰æ¡† */
        input[type="radio"] {
            -webkit-appearance: none; /*æ¸…é™¤å¤é€‰æ¡†é»˜è®¤æ ·å¼*/
            border: 1px solid #627BF6;
            vertical-align: middle;
            width: 20px;
            height: 20px;
            float: left;
            margin-top: 15px;
            margin-right: 0 !important;
            border-radius: 3px;
        }
        input[type="radio"]:checked {
            /* background-position: -48px 0; */
            background: #627BF6 url(img/hotel-check.png) ; /*å¤é€‰æ¡†çš„èƒŒæ™¯å›¾*/
            background-size: contain;
        }


    </style>
</head>
<body>

<!-- header -->
<div class="header-box">
    <div class="header-top">

        <div class="logo">
            <a href="index.html"><img src="img/logo.png" class="logo-img"></a>
        </div>
        <div class="login" id="login" style="display:none;">
            <input type="button" onclick="reg()" class="login-btn layui-btn layui-btn-primary" value="æ³¨å†Œ" title="æˆä¸ºä¼šå‘˜ï¼Œäº«å—ä¸“å±ä¼˜æƒ ">
            <input type="button" onclick="log()" class="login-btn layui-btn layui-btn-primary" value="ç™»å½•" title="ç™»å½•åæœç´¢ç»“æœæ›´è´´å¿ƒ">
        </div>
        <div class="login" id="logout" style="display:none;" >
            <div class="account" >
                <a href="myInf.html">
                    <img src="img/account.png" alt="è´¦æˆ·" style="width: 25px;height: 25px;">
                    <br>
                    <span style=" font-size: 9pt; ">è´¦æˆ·</span>
                </a>
            </div>
            <input type="button" onclick="logout()" class="login-btn layui-btn layui-btn-primary" value="é€€å‡º" title="é€€å‡º">

        </div>

    </div>
    <div class="header-foot">
        <div class="header-foot-item" >
            <a href="hotels.html"><img src="img/index-1.png" class="foot-img"><span>ä½å®¿</span></a>
        </div>
        <div class="header-foot-item">
            <a href="attractions.html"><img src="img/index-4.png" class="foot-img"><span>æ™¯ç‚¹</span></a>
        </div>
    </div>
</div>
<!-- end-header -->
<!-- top -->
<div class="top">
    <div class="top-content">
        <div class="title">
            <a href="#">ä¸­å›½ </a><span>&nbsp;></span>
            <a href="#" class="province"> </a><span>&nbsp;></span>

            <a href="#"><span class="province"></span>æ™¯ç‚¹</a>
        </div>
        <!--æ ‡é¢˜-->
        <div class="review-title">
            <h1><strong id="title"> </strong></h1>
            <div class="title-inf" style="width:1200px;">
                <ul>
                    <li class="address"> </li>
                    <li><div style="width: 50px"><div class="line"></div></div></li>
                    <li class="time"> </li>
                    <li><div style="width: 50px"><div class="line"></div></div></li>
                    <li id="label"></li>
                    <li id="collect" style="margin: 0 0 0 580px">
                        <button type="button" class="layui-btn layui-btn-warm layui-btn-sm">æ”¶è—</button>
                    </li>
                </ul>
            </div>


        </div>

    </div>
</div>

<!-- end-top -->
<!-- content -->
<div class="content">
    <div class="review-main">
        <!--ç‚¹è¯„ç²¾é€‰åŠå›¾ç‰‡-->
        <div class="review-evaluate">
            <div class="evaluate-left">
                <h3><strong>ç‚¹è¯„ç²¾é€‰</strong></h3><br>
                <div id="result_choice"></div>
                <!--
                <div class="evaluate-inf">
                    <div class="evaluate-inf-top"><a href="#">â€œå…«è¾¾å²­â€</a></div>
                    <div><span class="inf-f">äººè¶…å¤šå“¦â†—æ˜æ˜å’Œç”·æœ‹å‹èµ·çš„å¾ˆæ—©ï¼Œå´èµ¶äº†ä¸ªæ™šé›†ï¼Œå˜¿å˜¿ğŸ˜¬,
                        å¤–å›½å‹äººå’Œå°æœ‹å‹å çš„æ¯”ä¾‹æ¯”è¾ƒå¤§ï¼Œå¡åº¦å¤ªå¤§ï¼Œå¤§å®¶å‡ºè¡Œè¦æ³¨æ„å®‰å…¨å“¦</span>
                        <a href="#">æŸ¥çœ‹æ›´å¤š</a>
                    </div>
                    <div class="evaluate-info">
                        <img src="img/å¤´åƒ.jpg" class="img">
                        <div class="sp">
                            <span class="layui-badge-dot layui-bg-blue"></span>
                            <span class="layui-badge-dot layui-bg-blue"></span>
                            <span class="layui-badge-dot layui-bg-blue"></span>
                            <span class="layui-badge-dot layui-bg-blue"></span>
                            <span class="layui-badge-dot layui-bg-blue"></span>
                            <span>2019å¹´11æœˆ18æ—¥çš„ç‚¹è¯„</span>
                        </div>
                        <div class="sp">Flyer29164448125</div>
                    </div>
                </div>
                -->
            </div>

            <div class="evaluate-right">
                <div id="oneAtImg"></div>
            </div>
        </div>
        <!--å°è±¡ï¼Œç®€ä»‹åŠè”ç³»æ–¹å¼-->
        <div style="height:400px;margin-top: 30px;">
            <div class="review-item">
                <h3><b>æ—…è¡Œè€…å°è±¡</b></h3>
                <span>5.0
                <span class="layui-badge-dot layui-bg-blue"></span>
                <span class="layui-badge-dot layui-bg-blue"></span>
                <span class="layui-badge-dot layui-bg-blue"></span>
                <span class="layui-badge-dot layui-bg-blue"></span>
                <span class="layui-badge-dot layui-bg-blue"></span>
               </span>
                <span>23,638 æ¡ç‚¹è¯„</span><br>
                <div class="chart">
                    <div id="container" style="height: 200px;width: 338px;"></div>
                </div>

            </div>
            <div class="review-item" style="margin: 0 30px">
                <h3><b>ç®€ä»‹</b></h3>
                <p id="item-inf"></p><a id="moreInf" style="cursor:pointer;">æŸ¥çœ‹æ›´å¤š</a>
                <div style="margin-top: 10px">
                    å“è¶Šå¥–
                </div>
                <div style="margin: 10px 0" >æ­£åœ¨è¥ä¸š
                    <p>ä»Šæ—¥è¥ä¸šæ—¶é—´ï¼š<span class="time"></span></p>
                    <p style="cursor: pointer"  onclick="goTime()">æŸ¥çœ‹è¥ä¸šæ—¶é—´</p>
                </div>
                <p>å»ºè®®æ—¶é—´ï¼šè¶…è¿‡ä¸‰å°æ—¶</p>
            </div>
            <div class="review-item">
                <h3><b>è”ç³»æ–¹å¼</b></h3>
                <img id="position" src="" onclick="re()">
                <div class="address" style="margin-top: 10px"></div>

                <div style="margin-top: 10px"> +86 10 8500 7422</div>
            </div>
        </div>

        <!--é—¨ç¥¨ï¼Œä¼˜å¾…æ”¿ç­–åŠæ³¨æ„äº‹é¡¹-->
        <div class="book-tickets">
            <!--é¢„å®šé—¨ç¥¨-->
            <div class="tickets">
                <div class="tickets-list">
                    <input name="ticketInf" type="radio"  price='50' value="1">
                    <div class="list-item" style="width: 820px;margin-left: 10px">æˆäººç¥¨ï¼ˆé€šç¥¨ï¼‰</div>
                    <div class="list-item" class="type_1">50</div>
                    <button class="layui-btn layui-btn-sm" style="margin: 10px 0 0 30px">æŸ¥çœ‹è¯¦æƒ…</button>

                </div>
                <div class="tickets-list">
                    <input name="ticketInf" type="radio" price='25' value="2">
                    <div class="list-item" style="width: 820px;margin-left: 10px">å„¿ç«¥ç¥¨ï¼ˆé€šç¥¨ï¼‰</div>
                    <div class="list-item" class="type_1">25</div>
                    <button class="layui-btn layui-btn-sm" style="margin: 10px 0 0 30px">æŸ¥çœ‹è¯¦æƒ…</button>
                </div>
                <div class="tickets-list" >
                    <input name="ticketInf" type="radio" price='70' value="3">
                    <div class="list-item" style="width: 820px;margin-left: 10px">äº²å­ç¥¨ï¼ˆ1å¤§1å°ï¼‰</div>
                    <div class="list-item"  class="type_1">70</div>
                    <button class="layui-btn layui-btn-sm" style="margin: 10px 0 0 30px">æŸ¥çœ‹è¯¦æƒ…</button>
                </div>

                <div class="tickets-list" >
                    <input name="ticketInf" type="radio" price='115' value="4">
                    <div class="list-item" style="width: 820px;margin-left: 10px">å®¶åº­ç¥¨ï¼ˆ2å¤§1å°ï¼‰</div>
                    <div class="list-item" class="type_1">115</div>
                    <button class="layui-btn layui-btn-sm" style="margin: 10px 0 0 30px">æŸ¥çœ‹è¯¦æƒ…</button>
                </div>

                <div class="tickets-list" >
                    <input name="ticketInf" type="radio" price='125' value="5">
                    <div class="list-item" style="width: 820px;margin-left: 10px">å®¶åº­ç¥¨ï¼ˆ2å¤§2å°ï¼‰</div>
                    <div class="list-item" class="type_1">125</div>
                    <button class="layui-btn layui-btn-sm" style="margin: 10px 0 0 30px">æŸ¥çœ‹è¯¦æƒ…</button>
                </div>
            </div>

            <!--æ€»é‡‘é¢ç»“ç®—-->
            <div class="tickets">
                <input type="hidden" id="one_price" value="">
                <div class="tickets-list">
                    <div class="list-item" style="width:130px;margin-left:800px;">
                        <div class="amount_box" style="margin: 10px  0 0 10px;">
                            <a href="javascript:;" class="reduce increment">-</a>
                            <input type="text" value="1" class="sum" id="sum" name="sum" >
                            <a href="javascript:;" class="plus increment" style="margin-left: 10px">+</a>
                        </div>
                    </div>
                    <div class="list-item" style="width: 50px;margin: 0 50px;">
                        ï¿¥<span class="sum_price" id="sum_price">0</span>
                    </div>
                    <button class="layui-btn layui-btn-sm" style="margin: 10px 0 0 10px" id="atCart" onclick="atCart()">è´­ä¹°</button>
                </div>
            </div>
        </div>
        <div style="width: 1200px;height: 400px;background-color: #fff;margin-top: 30px;">
            <div style="margin:30px 30px;">
                <h2 style="color: #FFB800">ä¼˜å¾…æ”¿ç­–</h2>
                <p>è€å¹´äºº</p>
                <p>* 70å‘¨å²(å«)ä»¥ä¸Šå‡­è€å¹´è¯æˆ–èº«ä»½è¯å…è´¹ï¼› 60å‘¨å²ï¼ˆå«ï¼‰-69å‘¨å²ï¼ˆå«ï¼‰å‡­è€å¹´è¯èº«ä»½è¯äº”æŠ˜ä¼˜æƒ </p>
                <p>å„¿ç«¥</p>
                <p>* èº«é«˜1.2ç±³ï¼ˆå«ï¼‰ä»¥ä¸‹å…è´¹ï¼› èº«é«˜1.2ç±³ï¼ˆä¸å«ï¼‰-1.5ç±³ï¼ˆä¸å«ï¼‰äº”æŠ˜ä¼˜æƒ </p>
                <p>æ®‹ç–¾äºº</p>
                <p>* å‡­æ®‹ç–¾è¯å…è´¹</p>
                <p>ç°å½¹å†›äºº</p>
                <p>* å‡­å†›å®˜è¯å…è´¹</p>
                <p>ç¦»ä¼‘å¹²éƒ¨</p>
                <p>* å‡­ç¦»ä¼‘è¯å…è´¹</p>
                <p>å¤§ä¸­å°å­¦ç”Ÿ</p>
                <p>* å‡­å­¦ç”Ÿè¯å’Œèº«ä»½è¯äº”æŠ˜ä¼˜æƒ </p>
                <p>å…¶ä»–</p>
                <p>* 6å‘¨å²ï¼ˆä¸å«ï¼‰-18å‘¨å²ï¼ˆå«ï¼‰æœªæˆå¹´äººï¼šå‡­èº«ä»½è¯æˆ–è€…æˆ·å£æœ¬äº”æŠ˜ä¼˜æƒ </p>
            </div>
        </div>
        <!--ç‚¹è¯„-->
        <div style="height:600px;width:1200px;margin-top: 30px; ">
            <div class="content-main">
                <div style="width: 690px;height: 30px;padding: 0 30px 10px 30px;border-bottom: #eeeeee solid 1px">
                    <div style="float: left"><h2><b>ç‚¹è¯„</b></h2></div>
                    <div style="float: left"><button class="layui-btn" style="margin: -10px 0 0 510px" id="write_comment" >æ’°å†™ç‚¹è¯„</button></div>
                </div>
                <div id="result_all"></div>
            </div>

        </div>
    </div>
</div>
<div id="viewName" style="display: none"></div>
<div id="viewAddress" style="display: none" ></div>
<input type="hidden" id="ticket_id"  value="">
<!--åº•éƒ¨å†…å®¹-->
<input type="hidden" id="user_id" name="user_id" value="">
<input type="hidden" id="spId" name="spId">
<div class="bottom-foot" >
    <h2>çƒ­é—¨ç›®çš„åœ°</h2>
    SeeWorld æ˜¯å…¨çƒé¢†å…ˆçš„æ—…æ¸¸ç½‘ç«™ï¼Œæ—¨åœ¨å¸®åŠ©æ—…è¡Œè€…è®¡åˆ’å’Œé¢„å®šå®Œç¾æ—…è¡Œã€‚
    æµè§ˆè¶…è¿‡ 2 äº¿æ¡ç‚¹è¯„å’Œè¯„è®ºä»¥åŠé…’åº—ã€é¤å…å’Œæ™¯ç‚¹ç­‰ç…§ç‰‡ã€‚
    æ‚¨è¿˜å¯ä»¥æŸ¥æ‰¾ä½ä»·æœºç¥¨ã€å…è´¹æ—…è¡ŒæŒ‡å—ã€å…¨çƒåº¦å‡ç§Ÿå±‹åå½•ä»¥åŠçƒ­é—¨è®ºå›ï¼Œå®ƒä»¬æä¾›æœ‰å…³æ¯ä¸ªç›®çš„åœ°çš„å»ºè®®ç­‰ä¿¡æ¯ã€‚
    æœ‰å¦‚æ­¤ä¹‹å¤šçš„ç”¨æˆ·åœ¨æ¯æ¬¡æ—…è¡Œä¹‹å‰éƒ½ä¼šé¦–å…ˆè®¿é—® Booking ç½‘ç«™ä¹Ÿä¸è¶³ä¸ºå¥‡ã€‚
    <h2>å…¨çƒé¢†å…ˆçš„æ—…è¡Œä¿¡æ¯å¹³å°ã€‚</h2>
    SeeWorld æ¯æœˆå¸®åŠ©è¿‘äº”äº¿åæ—…è¡Œè€…å°½äº«æ¯æ¬¡æ—…è¡Œã€‚
    ä½¿ç”¨ SeeWorld ç½‘ç«™å’Œ App æµè§ˆæ•°äº¿æ¡ç‚¹è¯„å’Œå»ºè®®ï¼Œå†…å®¹æ¶µç›–ä½å®¿ã€é¤å…ã€ä½“éªŒã€èˆªç©ºå…¬å¸å’Œé‚®è½®ã€‚
    æ— è®ºæ˜¯åœ¨è®¡åˆ’è¿˜æ˜¯åœ¨è·¯ä¸Šï¼Œæ—…è¡Œè€…éƒ½å¯ä»¥é€šè¿‡SeeWorld  æ¯”è¾ƒé…’åº—ã€èˆªç­å’Œé‚®è½®çš„è¶…ä½ä»·æ ¼ã€é¢„è®¢çƒ­é—¨æ¸¸è§ˆå’Œæ™¯ç‚¹å¹¶åœ¨ç»ä½³é¤å…è®¢ä½ã€‚
    ç»ˆææ—…è¡Œä¼´ä¾£ SeeWorld æœåŠ¡èŒƒå›´æ¶µç›– 49 ä¸ªå¸‚åœºï¼Œæ”¯æŒ 28 ç§è¯­è¨€ã€‚
    <div class="bottom">
        <div class="bottom-main">
            <div class="bottom-main-list" style="font-size: 13pt;font-weight: bold;">çƒ­é—¨åœ°åŒº</div><br>
            <div class="bottom-main-list"><a href="#">åŒ—äº¬å¸‚</a></div>
            <div class="bottom-main-list"><a href="#">é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº</a></div>
            <div class="bottom-main-list"><a href="#">é‡åº†å¸‚</a></div>
            <div class="bottom-main-list"><a href="#">ä¸Šæµ·å¸‚</a></div>
            <div class="bottom-main-list"><a href="#">å¹¿ä¸œçœ</a></div>
        </div>
        <div class="bottom-main">
            <div class="bottom-main-list" style="font-size: 13pt;font-weight: bold;">ä¸­éƒ¨åœ°åŒº</div><br>
            <div class="bottom-main-list"><a href="#">å±±è¥¿çœ</a></div>
            <div class="bottom-main-list"><a href="#">æ²³å—çœ</a></div>
            <div class="bottom-main-list"><a href="#">æ²³åŒ—çœ</a></div>
            <div class="bottom-main-list"><a href="#">æ¹–åŒ—çœ</a></div>
            <div class="bottom-main-list"><a href="#">æ¹–å—çœ</a></div>
        </div>
        <div class="bottom-main">
            <div class="bottom-main-list" style="font-size: 13pt;font-weight: bold;">åŒ—æ–¹åœ°åŒº</div><br>
            <div class="bottom-main-list"><a href="#">é»‘é¾™æ±Ÿçœ</a></div>
            <div class="bottom-main-list"><a href="#">å‰æ—çœ</a></div>
            <div class="bottom-main-list"><a href="#">è¾½å®çœ</a></div>
            <div class="bottom-main-list"><a href="#">æ²³åŒ—çœ</a></div>
            <div class="bottom-main-list"><a href="#">å±±ä¸œçœ</a></div>

        </div>
        <div class="bottom-main">
            <div class="bottom-main-list" style="font-size: 13pt;font-weight: bold;">è¥¿å—åœ°åŒº</div><br>
            <div class="bottom-main-list"><a href="#">å››å·çœ</a></div>
            <div class="bottom-main-list"><a href="#">è´µå·çœ</a></div>
            <div class="bottom-main-list"><a href="#">äº‘å—çœ</a></div>
            <div class="bottom-main-list"><a href="#">é‡åº†å¸‚</a></div>
            <div class="bottom-main-list"><a href="#">è¥¿è—è‡ªæ²»åŒº</a></div>
        </div>
        <div class="bottom-main">
            <div class="bottom-main-list" style="font-size: 13pt;font-weight: bold;"><a href="#">è¥¿åŒ—åœ°åŒº</a></div><br>
            <div class="bottom-main-list"><a href="#">é™•è¥¿çœ</a></div>
            <div class="bottom-main-list"><a href="#">ç”˜è‚ƒçœ</a></div>
            <div class="bottom-main-list"><a href="#">é’æµ·çœ</a></div>
            <div class="bottom-main-list"><a href="#">å®å¤å›æ—è‡ªæ²»åŒº</a></div>
            <div class="bottom-main-list"><a href="#">æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº</a></div>
        </div>
    </div>
    <div class="foot">
        <ul>
            <li><a href="#"> å…³äºæˆ‘ä»¬</a></li>
            <li><a href="#"> æ–°é—»åŠ¨æ€</a></li>
            <li><a href="#"> å·¥ä½œæœºä¼š</a></li>
            <li><a href="#"> å•†åŠ¡åˆä½œ</a></li>
            <li><a href="#"> ä¼šå‘˜ä¸­å¿ƒ</a></li>
            <li><a href="#"> å¸¸è§é—®é¢˜</a></li>
            <li><a href="#"> æ„è§åé¦ˆ</a></li>
            <li><a href="#"> è”ç³»æˆ‘ä»¬</a></li>
            <li><a href="#"> è¥ä¸šæ‰§ç…§</a></li>
        </ul>
        <div >
            Â© 2020 SeeWorld ç‰ˆæƒæ‰€æœ‰ã€‚<a href="#">ä½¿ç”¨æ¡æ¬¾</a> | <a href="#">éšç§æ”¿ç­–</a> | <a href="#">ç½‘ç«™å·¥ä½œåŸç†</a>
            * SeeWorldä¸æ˜¯æ—…è¡Œç¤¾ï¼Œä¹Ÿä¸æ˜¯æ—…æ¸¸é¢„è®¢æœåŠ¡ä»£ç†å•†ã€‚æˆ‘ä»¬æä¾›å…è´¹ã€å®¢è§‚ã€å…¬æ­£çš„æ—…æ¸¸èµ„è®¯æœåŠ¡ã€‚
        </div>
        <div > äº¬ICPè¯080678å·äº¬ICPå¤‡09040564å·äº¬å…¬ç½‘å®‰å¤‡11010502036828å·
        </div>
    </div>
</div>
</body>
<script type="text/javascript" src="js/echarts.js"></script>
<script type="text/javascript"  src="../res/layui/layui.all.js"></script>
<script type="text/javascript" src="js/layer.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
        if($.cookie("userCookie") != null&&$.cookie("userCookie")!= ""){
            const userCookie = JSON.parse($.cookie("userCookie"));Â Â Â Â //è¯»å–cookie
            console.log("userCookieå­˜åœ¨");
            $("#logout").show();
            const user_id = userCookie.uid;
            $("#user_id").val(user_id);
        } else {
            console.log("userCookieä¸å­˜åœ¨");
            $("#login").show()
        }
    });
</script>
<script>
    //å®šä¹‰æ–¹æ³•
    $(document).ready(function() {

        /**è§£æurlä¼ å‚**/
        function getParams(key) {
            const reg = new RegExp("(^|&)" + key + "=([^&]*)(&|$)");
            const r = window.location.search.substr(1).match(reg);
            if (r != null) {
                return unescape(r[2]);
            }
            return null;
        };
        console.log("å‚æ•°param:"+getParams("param"));//è¾“å‡ºaa
        const id = getParams("param");
        $("#spId").val(id);
        /**æ”¶è—*/
        $("#collect").click(function () {
            if($.cookie("userCookie") != null&&$.cookie("userCookie")!= ""){
                let user_id = $("#user_id").val();
                $.ajax({
                    url: "../UserServlet",
                    type: "POST",
                    //async:false,
                    data: {
                        action:"collect",
                        spId:id,
                        user_id:user_id
                    },
                    success: function (data) {
                        console.log("ä¿¡æ¯"+data)
                        alert("å·²æ·»åŠ åˆ°æ”¶è—å¤¹");
                    },
                    error: function () {
                        console.log("å¤±è´¥å•¦...")
                    },
                    dataType: "text"
                });
            } else {
                alert("è¯·å…ˆç™»å½•");
            }
        });
        /**è·å–æ™¯ç‚¹ä¿¡æ¯*/
        $.ajax({
            url: "../UserAttractionsServlet", // è¯·æ±‚è·¯å¾„
            type: "POST", //è¯·æ±‚æ–¹å¼
            //async:false,
            data: {
                action:"getOneAt",
                spId:id
            },
            success: function (data) {
                console.log("ä¿¡æ¯"+data)
                showData(data);
            },//å“åº”æˆåŠŸåçš„å›è°ƒå‡½æ•°
            error: function () {
                console.log("å¤±è´¥å•¦...")
            },//è¡¨ç¤ºå¦‚æœè¯·æ±‚å“åº”å‡ºç°é”™è¯¯ï¼Œä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°

            dataType: "text"//è®¾ç½®æ¥å—åˆ°çš„å“åº”æ•°æ®çš„æ ¼å¼
        });
        /**è·å–æ™¯ç‚¹å›¾ç‰‡ä¿¡æ¯*/
        $.ajax({
            url: "../UserAttractionsServlet", // è¯·æ±‚è·¯å¾„
            type: "POST", //è¯·æ±‚æ–¹å¼
            //async:false,
            data: {
                action:"getOneAtImg",
                spId:id
            },
            success: function (data) {
                console.log("dd"+data)
                const json = eval("(" + data + ")");
                let atImg = json[0].img_name;
                let atImgTwo = json[1].img_name;
                let atImgThree = json[2].img_name;
                let atImgFour = json[3].img_name;
                //å®šä¹‰ç”¨äºæ‹¼æ¥çš„å­—ç¬¦ä¸²src='/atImg/"+ls.img_name+"'
                let str = "<img src='/atImg/"+ atImg +"' class='img'>" +
                    "<img src='/atImg/"+ atImgTwo +"' class='img-1'>" +
                    "<img src='/atImg/"+ atImgThree +"' class='img-1'>" +
                    "<img src='/atImg/"+ atImgFour+"' class='img-1'>";
                $("#oneAtImg").html(str);
            },//å“åº”æˆåŠŸåçš„å›è°ƒå‡½æ•°
            error: function () {
                console.log("å¤±è´¥å•¦...")
            },//è¡¨ç¤ºå¦‚æœè¯·æ±‚å“åº”å‡ºç°é”™è¯¯ï¼Œä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°

            dataType: "text"//è®¾ç½®æ¥å—åˆ°çš„å“åº”æ•°æ®çš„æ ¼å¼
        });
        /**è·å–æ™¯ç‚¹è¯„è®ºä¿¡æ¯*/
        $.ajax({
            url: "../UserAttractionsServlet", // è¯·æ±‚è·¯å¾„
            type: "POST", //è¯·æ±‚æ–¹å¼
            //async:false,
            data: {
                action:"getAllComment",
                spId:id
            },
            success: function (data) {
                console.log("dd"+data)
                showComment(data);
            },
            error: function () {
                console.log("å¤±è´¥å•¦...")
            },
            dataType: "text"
        });
        /**ä»·æ ¼
        $(".tickets-list").each(function(k,v){
            $(v).click(function(){
                if(!$(v).is(".selected")){
                    $(".tickets-list").removeClass("selected");
                    $(this).addClass("selected");
                    const pri =$(this).attr("price");
                    $("#one_price").html(pri);
                    //$("#sum").val(1);
                    let pr = $("#one_price").html();
                    $("#sum_price").html(pr);
                    //showData();
                }else{
                    $(this).removeClass("selected");
                }
            });
        });
         */
        function showComment(data){
            const json = eval("(" + data + ")");
            let strAll ="";
            for (const i in json) {
                const ls = json[i];
                let timestamp = ls.comment_time;
                let comment_time = timestampToTime(timestamp);
                strAll += "<div class='comment-inf'><div class='comment-inf-top'><a>"+ls.comment_title+"</a></div>" +
                    "<div><span class='inf-f'>"+ls.comment_content+"</span><a  class='more_inf' value='"+ls.comment_id+"'>æŸ¥çœ‹æ›´å¤š</a></div>" +
                    "<div class='evaluate-info'><img src='img/å¤´åƒ.jpg' class='img'><div class='sp'><span>"+comment_time+"ç‚¹è¯„</span></div>" +
                    "<div class='sp'><span>"+ls.customerName+"</span></div></div></div> ";
                $("#result_all").html(strAll);
                showDetail();
            }
            let str = "";
            for(let i = 0; i < 2; i++){
                const ls = json[i];
                let timestamp = ls.comment_time;
                let comment_time = timestampToTime(timestamp);
                str += "<div class='evaluate-inf'> <div class='evaluate-inf-top'><a>"+ls.comment_title+"</a></div>" +
                    "<div><span class='inf-f'>"+ls.comment_content+"</span><a class='more_inf' value='"+ls.comment_id+"'>æŸ¥çœ‹æ›´å¤š</a></div>" +
                    "<div class='evaluate-info'><img src='img/å¤´åƒ.jpg' class='img'><div class='sp'><span>"+comment_time+"ç‚¹è¯„</span></div>" +
                    "<div class='sp'><span>"+ls.customerName+"</span></div></div></div> ";
                $("#result_choice").html(str);
                showDetail();
            };

        }
        function showDetail() {
            layui.use(['form'], function () {
                const form = layui.form
                    , layer = layui.layer;
                /**ç”¨æˆ·è¯„è®ºå±•ç¤º*/
                $(".inf-f").each(function () {
                    const len = $(this).text().length;   //å½“å‰HTMLå¯¹è±¡textçš„é•¿åº¦
                    if (len > 80) {
                        let str = "";
                        str = $(this).text().substring(0, 80) + "......";  //ä½¿ç”¨å­—ç¬¦ä¸²æˆªå–ï¼Œè·å–å‰30ä¸ªå­—ç¬¦ï¼Œå¤šä½™çš„å­—ç¬¦ä½¿ç”¨â€œ......â€ä»£æ›¿
                        $(this).html(str);                   //å°†æ›¿æ¢çš„å€¼èµ‹å€¼ç»™å½“å‰å¯¹è±¡
                    }
                });
                $(".more_inf").click(function () {
                    let comment_id = $(this).attr("value");
                    $.ajax({
                        url: "../UserServlet",
                        type: "POST",
                        data: {
                            action: "getOneComment",
                            comment_id: comment_id
                        },
                        success: function (data) {
                            console.log("dd" + data)
                            const json = eval("(" + data + ")");
                            const comment_content = json.comment_content;
                            layer.open({
                                type: 1,
                                area: ['45%', '70%'],
                                shade: 0.2,
                                shadeClose: true,Â //ç‚¹å‡»é®ç½©å…³é—­å±‚Â Â Â Â 
                                offset: '10px',//å¼¹çª—ä½ç½®
                                resize: false,
                                id:'thisIsOpen',
                                content: '<div style="padding:50px">'+comment_content+'</div>', //è¿™é‡Œcontentæ˜¯ä¸€ä¸ªæ™®é€šçš„String
                            });
                        },
                        error: function () {
                            console.log("å¤±è´¥å•¦...")
                        },
                        dataType: "text"
                    });
                });
            });
        }

        /**å±•ç¤ºæ•°æ®*/
        function showData(data) {
            const json = eval("(" + data + ")");
            let str = "";//å®šä¹‰ç”¨äºæ‹¼æ¥çš„å­—ç¬¦ä¸²
            for (const i in json) {//éå†
                const ls = json[i];
                $("#spId").val(ls.spId);
                $(".province").append(ls.province);
                $("#title").html(ls.spName);
                $("#viewName").html(ls.spName);
                $(".address").html(ls.spAddress);
                $("#viewAddress").html(ls.spAddress);
                $(".time").html(ls.spTimeStart+" - "+ls.spTimeEnd);
                $("#label").html(ls.spLabel);
                $("#item-inf").html(ls.spFormation);

                $("#item-inf").each(function(){
                    const len = $(this).text().length;   //å½“å‰HTMLå¯¹è±¡textçš„é•¿åº¦
                    if(len>200){
                        let str = "";
                        str=$(this).text().substring(0,200)+"......";  //ä½¿ç”¨å­—ç¬¦ä¸²æˆªå–ï¼Œè·å–å‰30ä¸ªå­—ç¬¦ï¼Œå¤šä½™çš„å­—ç¬¦ä½¿ç”¨â€œ......â€ä»£æ›¿
                        $(this).html(str);                   //å°†æ›¿æ¢çš„å€¼èµ‹å€¼ç»™å½“å‰å¯¹è±¡
                    }
                });
                $("#moreInf").click(function(){
                    layer.open({
                        type: 1
                        ,title: false //ä¸æ˜¾ç¤ºæ ‡é¢˜æ    title : false/æ ‡é¢˜
                        , area: ['45%', '70%']
                        ,shade: 0.2
                        ,shadeClose:Â trueÂ //ç‚¹å‡»é®ç½©å…³é—­å±‚Â Â 
                        ,id: 'LAY_layui' //è®¾å®šä¸€ä¸ªidï¼Œé˜²æ­¢é‡å¤å¼¹å‡º
                        ,resize: false
                        ,content: '<div style="padding:50px">'+ls.spFormation+'</div>'

                    });
                    //alert(ls.spFormation)
                });
            }
        };
        /**æ—¶é—´æˆ³è½¬æ¢**/
        function timestampToTime(timestamp) {
            const date = new Date(timestamp);//æ—¶é—´æˆ³ä¸º10ä½éœ€*1000ï¼Œæ—¶é—´æˆ³ä¸º13ä½çš„è¯ä¸éœ€ä¹˜1000
            const Y = date.getFullYear() + '-';
            const M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';
            const D = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate()) + ' ';
            const h = (date.getHours() < 10 ? '0' + (date.getHours()) : date.getHours()) + ':';
            const m = (date.getMinutes() < 10 ? '0' + (date.getMinutes()) : date.getMinutes()) + ':';
            const s = (date.getSeconds() < 10 ? '0' + (date.getSeconds()) : date.getSeconds());
            return Y + M + D + h + m + s;
        }
        $("#write_comment").click(function () {
            if($.cookie("userCookie") != null&&$.cookie("userCookie")!= ""){
                layer.open({
                    type:Â 2,
                    title: 'æ’°å†™ç‚¹è¯„',
                    offset: '50px',//å¼¹çª—ä½ç½®
                    shade: 0.2,
                    shadeClose:Â true,Â //ç‚¹å‡»é®ç½©å…³é—­å±‚Â Â Â Â 
                    area: ['60%', '70%'],
                    content:'writeComment.html',//å¼¹æ¡†æ˜¾ç¤ºçš„url,å¯¹åº”çš„é¡µé¢Â Â 
                    //btn: ['ç¡®å®š', 'å–æ¶ˆ'],
                    end: function () {
                        location.reload();
                    }
                });
            } else {
                alert("è¯·ç™»å½•åè¯„è®º");
            }
        });

        /**é€‰ä¸­input*/
        /**const inp = $('input[name="ticketInf"]:checked').val();*/
        $('input:radio[name="ticketInf"]').change(function(){
            const price =$(this).attr("price");
            const v = $(this).val();

            $("#ticket_id").val(v);
            $("#one_price").val(price);
            $("#sum_price").html(price);
        });
        //åŠ çš„æ•ˆæœ
        $(".plus").click(function () {
            let pr = $("#one_price").val();
            const n = $(this).prev().val();
            const itxt = parseInt(n) + 1;
            if (itxt == 0) {
                return;
            }
            $(this).prev().val(itxt);
            let sum =  $("#sum").val();

            let allSum = pr*sum;
            console.log("æ€»è®¡"+allSum);

            $("#sum_price").html(allSum);

        });
        //å‡çš„æ•ˆæœ
        $(".reduce").click(function () {
            let pr = $("#one_price").val();
            const n = $(this).next().val();
            const itxt = parseInt(n) - 1;
            if (itxt == 0) {
                return
            }
            $(this).next().val(itxt);
            let sum =  $("#sum").val();
            let allSum = pr*sum;
            console.log("æ€»è®¡"+allSum);

            $("#sum_price").html(allSum);
            //const sum =document.getElementById('sum').value;
            // document.getElementById("sum_price").innerHTML=pr*sum;

        });

    });
    function atCart() {
        //ç”±äºæ˜¯ä¸€ä¸ªæ–°çš„æŠ€æœ¯ï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä»£ç æ£€æµ‹ä½ çš„æµè§ˆå™¨æ˜¯å¦æ”¯æŒ
        if (window.localStorage) {
            //å­˜å‚¨å˜é‡çš„å€¼

            localStorage.spId = $("#spId").val();
            localStorage.ticket_id = $("#ticket_id").val();
            localStorage.price = $("#one_price").val();
            localStorage.quantity= $("#sum").val();
            localStorage.sumPrice= $("#sum_price").html();
            location.href = 'order.html';
        } else {
            alert("NOT SUPPORT");
        }
    }
</script>

<script type="text/javascript">
    /**åœ°å›¾**/
    const c = "116.028702, 40.363106";
    document.getElementById("position").src = "http://api.map.baidu.com/staticimage/v2?ak=MXPc39yzvyV11CCIv4maBPmnPKdRMHC8&center="+c+"&width=340&height=150&zoom=11";

    function re(){
        let viewN = $("#viewName").html();
        layer.open({
            type: 2,
            title: viewN,
            shadeClose: true, //ç‚¹å‡»é®ç½©å…³é—­å±‚
            area : ['90%' , '90%'],
            content:'bar.html',//å¼¹æ¡†æ˜¾ç¤ºçš„url,å¯¹åº”çš„é¡µé¢

        });

    }
    /**è¥ä¸šæ—¶é—´*/
    function goTime() {
        layer.open({
            type: 1
            ,title: "è¥ä¸šæ—¶é—´" //ä¸æ˜¾ç¤ºæ ‡é¢˜æ    title : false/æ ‡é¢˜
            ,area: '300px;'
            ,shade: 0
            ,id: 'LAY_layuipro' //è®¾å®šä¸€ä¸ªidï¼Œé˜²æ­¢é‡å¤å¼¹å‡º
            ,resize: false
            ,content: '<div style="padding: 40px; line-height: 30px; font-weight: 300;">å‘¨ä¸€ - å‘¨äº” ä¸Šåˆ7:30 - ä¸‹åˆ5:00<br>å‘¨å…­ - å‘¨æ—¥ ä¸Šåˆ7:30 - ä¸‹åˆ6:00</div>'

        });
        /**
         layer.open({
           type: 1
           ,title: "è¥ä¸šæ—¶é—´" //ä¸æ˜¾ç¤ºæ ‡é¢˜æ    title : false/æ ‡é¢˜
           ,closeBtn: true
           ,area: '300px;'
           ,shade: 0.8
           ,id: 'LAY_layuipro' //è®¾å®šä¸€ä¸ªidï¼Œé˜²æ­¢é‡å¤å¼¹å‡º
           ,resize: false
           ,btn: ['ç«é€Ÿå›´è§‚', 'æ®‹å¿æ‹’ç»']
           ,btnAlign: 'c'
           ,moveType: 1 //æ‹–æ‹½æ¨¡å¼ï¼Œ0æˆ–è€…1
           ,content: '<div style="padding: 50px; line-height: 22px; background-color: #393D49; color: #fff; font-weight: 300;">å†…å®¹<br>å†…å®¹</div>'
           ,success: function(layero){
               var btn = layero.find('.layui-layer-btn');
               btn.find('.layui-layer-btn0').attr({
                   href: 'http://www.layui.com/'
                   ,target: '_blank'
               });
           }
       });
         */
        //layer.alert("å‘¨ä¸€ - å‘¨äº” ä¸Šåˆ7:30 - ä¸‹åˆ5:00<br>å‘¨å…­ - å‘¨æ—¥ ä¸Šåˆ7:30 - ä¸‹åˆ6:00");
    };



    //å›¾è¡¨
    const dom = document.getElementById("container");
    const myChart = echarts.init(dom);
    const app = {};
    option = null;
    app.title = 'åæ ‡è½´åˆ»åº¦ä¸æ ‡ç­¾å¯¹é½';

    option = {
        color: ['#3398DB'],
        tooltip : {
            trigger: 'axis',
            axisPointer : {            // åæ ‡è½´æŒ‡ç¤ºå™¨ï¼Œåæ ‡è½´è§¦å‘æœ‰æ•ˆ
                type : 'shadow'        // é»˜è®¤ä¸ºç›´çº¿ï¼Œå¯é€‰ä¸ºï¼š'line' | 'shadow'
            }
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        yAxis : [
            {
                type : 'category',
                data : ['å¾ˆå·®', 'è¾ƒå·®', 'ä¸€èˆ¬', 'è¾ƒå¥½', 'å¾ˆæ£’', ],
                axisTick: {
                    show: false,
                    alignWithLabel: true
                },
                axisLine: {//å–æ¶ˆæ˜¾ç¤ºåæ ‡è½´
                    show: false
                }
            }
        ],
        xAxis : [
            {
                show: false,//å–æ¶ˆæ˜¾ç¤ºåæ ‡è½´,åæ ‡è½´åˆ»åº¦,åæ ‡å€¼(å¦‚æœæ˜¯yè½´,é»˜è®¤çš„ç½‘æ ¼çº¿ä¹Ÿä¼šå–æ¶ˆæ˜¾ç¤º)
                type : 'value'
            }
        ],
        series : [
            {
                name:'è¯„ä»·',
                type:'bar',
                barWidth: '60%',
                data:[10, 52, 200, 334, 390,]
            }
        ]
    };

    if (option && typeof option === "object") {
        myChart.setOption(option, true);
    }
</script>
</html>